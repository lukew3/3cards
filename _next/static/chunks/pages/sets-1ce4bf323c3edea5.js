(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[649],{7648:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sets",function(){return c(6042)}])},6042:function(i,b,a){"use strict";a.r(b),a.d(b,{default:function(){return u}});var j=a(7568),c=a(4051),k=a.n(c),l=a(5893),d=a(9008),m=a.n(d),e=a(7386),n=a.n(e),o=a(7294),p=a(1163),f=a(1664),q=a.n(f),g=a(4401),r=a.n(g),s=function(a){var b;return(0,l.jsx)(q(),{href:"/set?tx_id=".concat(a.set.tx_id),children:(0,l.jsxs)("div",{className:r().cont,children:[(0,l.jsx)("p",{className:r().title,children:a.set.title}),(0,l.jsxs)("div",{className:r().cont_right,children:[(0,l.jsx)(q(),{href:"/sets?owner=".concat(a.set.owner_address),children:(0,l.jsxs)("p",{className:r().short_address,children:["Created By: ",(b=a.set.owner_address).substring(0,5)+".."+b.substring(b.length-4)]})}),(0,l.jsxs)("p",{children:["Created On: ",new Date(1e3*a.set.timestamp).toLocaleString()]})]})]})})},h=a(5399),t=a.n(h),u=function(){var c,e=n().init({host:"arweave.net",port:443,protocol:"https"}),f=(0,p.useRouter)(),a=(0,o.useState)(!1),g=a[0],h=a[1],b=(0,o.useState)([]),d=b[0],i=b[1],q=(c=(0,j.Z)(k().mark(function a(){var b,c;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b=f.query.owner?'owners: ["'.concat(f.query.owner,'"]'):"",c="{\n      transactions(\n        first: 10\n        ".concat(b,'\n        tags: [\n          {\n            name: "Content-Type",\n            values: ["application/json"]\n          },\n          {\n            name: "App-Name",\n            values: ["3cards"]\n          }\n        ]\n      ) {\n        edges {\n          node {\n            id\n            owner {\n              address\n            }\n            block {\n              timestamp\n            }\n            tags {\n              name\n              value\n            }\n          }\n        }\n      }\n    }'),e.api.post("/graphql",{query:c}).then(function(b){var a=[];b.data.data.transactions.edges.forEach(function(b){var c;a.push({tx_id:b.node.id,timestamp:b.node.block.timestamp,owner_address:b.node.owner.address,title:(null===(c=b.node.tags.find(function(a){return"Title"===a.name}))|| void 0===c?void 0:c.value)||"Unnamed Set"})}),i(a),console.log(a)}).catch(function(a){i([]),console.log(a)});case 3:case"end":return a.stop()}},a)})),function(){return c.apply(this,arguments)});return(0,o.useEffect)(function(){setTimeout(function(){g||(h(!0),console.log("Loading sets"),q())},1)}),(0,l.jsxs)("div",{className:t().container,children:[(0,l.jsxs)(m(),{children:[(0,l.jsx)("title",{children:"Find Sets - 3cards"}),(0,l.jsx)("meta",{name:"description",content:"Create a flash card set with 3cards"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsxs)("main",{className:t().main,children:[(0,l.jsx)("h3",{children:"Find Sets"}),(0,l.jsx)("div",{className:t().terms,children:d.map(function(b,a){return(0,l.jsx)(s,{id:a,set:b},a)})})]})]})}},5399:function(a){a.exports={container:"Create_container___ggYn",main:"Create_main__RCqeV",title_input:"Create_title_input__YVpVY",terms:"Create_terms__8ve4n",addItem:"Create_addItem__xL3hK",publish_button:"Create_publish_button__iTGRI"}},4401:function(a){a.exports={cont:"SetInfo_cont__UNrHQ",title:"SetInfo_title__j0vcl",cont_right:"SetInfo_cont_right__5_IhH"}}},function(a){a.O(0,[468,774,888,179],function(){var b;return a(a.s=7648)}),_N_E=a.O()}])