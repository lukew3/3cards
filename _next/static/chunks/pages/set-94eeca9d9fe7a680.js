(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[799],{7278:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/set",function(){return n(5911)}])},5911:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(7568),s=n(4051),c=n.n(s),a=n(5893),i=n(9008),o=n.n(i),d=n(7386),l=n.n(d),_=n(7294),u=n(1658),m=n.n(u),h=function(e){return(0,a.jsxs)("div",{className:m().term,children:[(0,a.jsx)("p",{children:e.termPair[0]}),(0,a.jsx)("div",{className:m().term_div}),(0,a.jsx)("p",{className:m().term_definition,children:e.termPair[1]})]})},f=n(3293),x=n.n(f),v=function(e){var t=e.terms.length,n=(0,_.useState)(0),r=n[0],s=n[1],c=(0,_.useState)(!0),i=c[0],o=c[1],d=function(e){var n=document.getElementById("Cards_cards_list");if(n){var r=n.scrollWidth/t;n.scrollTo(e*r,0)}},l=function(){r-1>=0&&(d(r-1),s(r-1)),o(!0)},u=function(){r+1<t&&(d(r+1),s(r+1)),o(!0)},m=function(){o(!i)},h=function(e){"ArrowLeft"===e.key?l():"ArrowRight"===e.key?u():"ArrowUp"===e.key&&m()},f=function(e){var n=e.target.scrollWidth/t,r=Math.ceil(e.target.scrollLeft/n);s(r)};return(0,_.useEffect)((function(){return window.addEventListener("keydown",h),function(){window.removeEventListener("keydown",h)}}),[r,i]),(0,_.useEffect)((function(){var e=document.getElementById("Cards_cards_list");if(e)return f({target:e}),window.addEventListener("keydown",h),e.addEventListener("scroll",f),function(){e.removeEventListener("keydown",h)}}),[]),(0,a.jsxs)("div",{className:x().cards,children:[(0,a.jsx)("input",{type:"checkbox",className:x().show_term_checkbox,checked:!i,onChange:m}),(0,a.jsx)("div",{id:"Cards_cards_list",className:x().cards_list,children:e.terms.map((function(e,t){return(0,a.jsxs)("div",{className:x().card,onClick:m,children:[(0,a.jsx)("div",{className:x().card_front,children:e[0]}),(0,a.jsx)("div",{className:x().card_back,children:e[1]})]},"cards-card-".concat(t))}))}),(0,a.jsxs)("div",{className:x().controls,children:[(0,a.jsx)("button",{onClick:l,children:"<"}),(0,a.jsxs)("p",{children:[r+1,"/",t]}),(0,a.jsx)("button",{onClick:u,children:">"})]})]})},w=n(5283),j=n.n(w),p=function(e){return(0,a.jsxs)("div",{className:j().set_content,children:[(0,a.jsx)(v,{terms:e.terms}),(0,a.jsx)("h4",{className:j().title,children:e.title}),(0,a.jsx)("div",{className:j().terms,children:e.terms.map((function(t,n){return(0,a.jsx)(h,{id:n,termPair:e.terms[n]},n)}))})]})},k=function(){var e,t=l().init({host:"arweave.net",port:443,protocol:"https"}),n=(0,_.useState)("Unnamed Set"),s=n[0],i=n[1],d=(0,_.useState)(!1),u=d[0],m=d[1],h=(0,_.useState)(!0),f=h[0],x=h[1],v=(0,_.useState)([]),w=v[0],k=v[1];try{var g=new URLSearchParams(window.location.search);e=g.get("tx_id")||""}catch(N){e=""}return setTimeout((0,r.Z)(c().mark((function n(){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u){n.next=7;break}if(console.log("Loading terms"),""!=e){n.next=4;break}return n.abrupt("return");case 4:t.api.get(e).then((function(e){k(e.data),m(!0),x(!1)})).catch((function(){console.log("Could not load terms"),x(!1)})),r='{\n        transactions(\n          first: 1\n          ids: ["'.concat(e,'"]\n        ) {\n          edges { node { tags { name value } } }\n        }\n      }'),t.api.post("/graphql",{query:r}).then((function(e){var t=e.data.data.transactions.edges[0].node.tags.find((function(e){return"Title"==e.name})).value;i(t)})).catch((function(e){console.log(e)}));case 7:case"end":return n.stop()}}),n)}))),0),(0,a.jsxs)("div",{className:j().container,children:[(0,a.jsx)(o(),{children:(0,a.jsx)("title",{children:"View Set - 3cards"})}),(0,a.jsxs)("main",{className:j().main,children:[(0,a.jsx)("h3",{children:"View Set"}),f?(0,a.jsx)("div",{className:"lds-dual-ring"}):0===w.length?(0,a.jsx)("p",{children:"Set not found"}):(0,a.jsx)(p,{terms:w,title:s})]})]})}},3293:function(e){e.exports={cards:"Cards_cards__Tx4uF",cards_list:"Cards_cards_list__Tx9cQ",card:"Cards_card__Igz_I",show_term_checkbox:"Cards_show_term_checkbox__TY_0X",card_front:"Cards_card_front__jvujo",card_back:"Cards_card_back__nJUNI",controls:"Cards_controls__i_wg8"}},5283:function(e){e.exports={container:"Set_container__S2HYs",main:"Set_main__9hg1n",set_content:"Set_set_content__ANdxq",title:"Set_title___vFTa",terms:"Set_terms__QlzPW"}},1658:function(e){e.exports={term:"Term_term__66Hxs",term_div:"Term_term_div__tMylv"}}},function(e){e.O(0,[797,774,888,179],(function(){return t=7278,e(e.s=t);var t}));var t=e.O();_N_E=t}]);