(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[799],{7386:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var c=Object.getOwnPropertyDescriptor(e,n);c&&!("get"in c?!e.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,c)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),c=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0});const o=n(536);o.default.init=function(t={}){const e=function(){const t={host:"arweave.net",port:443,protocol:"https"};if(!window||!window.location||!window.location.protocol||!window.location.hostname)return t;const e=window.location.protocol.replace(":",""),n=window.location.hostname,r=window.location.port?parseInt(window.location.port):"https"==e?443:80;return["localhost","127.0.0.1"].includes(n)||"file"==e?t:{host:n,port:r,protocol:e}}(),n=t.protocol||e.protocol,r=t.host||e.host,c=t.port||e.port;return new o.default(Object.assign(Object.assign({},t),{host:r,protocol:n,port:c}))},window.Arweave=o.default,c(n(536),e),e.default=o.default},5436:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/set",function(){return n(9102)}])},9102:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return x}});var r=n(5893),c=n(9008),o=n.n(c),s=n(7386),a=n.n(s),i=n(7294),d=n(3826),l=n.n(d),u=function(t){return(0,r.jsxs)("div",{className:l().term,children:[(0,r.jsx)("p",{children:t.card[0]}),(0,r.jsx)("div",{className:l().term_div}),(0,r.jsx)("p",{className:l().term_definition,children:t.card[1]})]})},_=n(2654),f=n.n(_),h=function(t){var e=t.cards.length,n=(0,i.useState)(0),c=n[0],o=n[1],s=(0,i.useState)(!0),a=s[0],d=s[1],l=function(t){var n=document.getElementById("Cards_cards_list");if(n){var r=n.scrollWidth/e;n.scrollTo(t*r,0)}},u=function(){c-1>=0&&(l(c-1),o(c-1)),d(!0)},_=function(){c+1<e&&(l(c+1),o(c+1)),d(!0)},h=function(){d(!a)},p=function(t){"ArrowLeft"===t.key?u():"ArrowRight"===t.key?_():"ArrowUp"===t.key&&h()},w=function(t){var n=t.target.scrollWidth/e,r=Math.ceil(t.target.scrollLeft/n);o(r)};return(0,i.useEffect)((function(){return window.addEventListener("keydown",p),function(){window.removeEventListener("keydown",p)}}),[c,a]),(0,i.useEffect)((function(){var t=document.getElementById("Cards_cards_list");if(t)return w({target:t}),window.addEventListener("keydown",p),t.addEventListener("scroll",w),function(){t.removeEventListener("keydown",p)}}),[]),(0,r.jsxs)("div",{className:f().cards,children:[(0,r.jsx)("input",{type:"checkbox",className:f().show_term_checkbox,checked:!a,onChange:h}),(0,r.jsx)("div",{id:"Cards_cards_list",className:f().cards_list,children:t.cards.map((function(t,e){return(0,r.jsxs)("div",{className:f().card,onClick:h,children:[(0,r.jsx)("div",{className:f().card_front,children:t[0]}),(0,r.jsx)("div",{className:f().card_back,children:t[1]})]},"cards-card-".concat(e))}))}),(0,r.jsxs)("div",{className:f().controls,children:[(0,r.jsx)("button",{onClick:u,children:"<"}),(0,r.jsxs)("p",{children:[c+1,"/",e]}),(0,r.jsx)("button",{onClick:_,children:">"})]})]})},p=n(4400),w=n.n(p),m=n(1859),v=function(t){return(0,r.jsxs)("div",{className:w().set_content,children:[(0,r.jsx)(h,{cards:t.cards}),(0,r.jsx)("h4",{className:w().title,children:t.title}),(0,r.jsx)("div",{className:w().terms,children:t.cards.map((function(t,e){return(0,r.jsx)(u,{id:e,card:t},e)}))})]})},x=function(){a().init({host:"arweave.net",port:443,protocol:"https"});var t=(0,i.useState)({title:"",cards:[]}),e=t[0],n=t[1],c=(0,i.useState)(!0),s=c[0],d=c[1];return(0,i.useEffect)((function(){var t=new URLSearchParams(window.location.search).get("tx_id")||"";(0,m.M)(t).then((function(t){n(t)})).catch((function(t){console.log(t)})).finally((function(){d(!1)}))}),[]),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)(o(),{children:(0,r.jsx)("title",{children:"View Set - 3cards"})}),(0,r.jsxs)("main",{className:w().main,children:[(0,r.jsx)("h3",{children:"View Set"}),s?(0,r.jsx)("div",{className:"lds-dual-ring"}):0===e.cards.length?(0,r.jsx)("p",{children:"Set not found"}):(0,r.jsx)(v,{cards:e.cards,title:e.title})]})]})}},1859:function(t,e,n){"use strict";n.d(e,{M:function(){return i}});var r=n(7568),c=n(4051),o=n.n(c),s=n(7386),a=n.n(s)().init({host:"arweave.net",port:443,protocol:"https"});function i(t){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(o().mark((function t(e){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("Loading set"),n={title:"",cards:[]},""!=e){t.next=4;break}return t.abrupt("return",n);case 4:return t.next=6,a.api.get(e).then((function(t){if("Request type not found."===t.data)return n;n.cards=t.data})).catch((function(){return console.log("Could not load set"),n}));case 6:return r='{\n    transactions(\n      first: 1\n      ids: ["'.concat(e,'"]\n    ) {\n      edges { node { tags { name value } } }\n    }\n  }'),t.next=9,a.api.post("/graphql",{query:r}).then((function(t){var e=t.data.data.transactions.edges[0].node.tags;n.title=e.find((function(t){return"Title"==t.name})).value})).catch((function(t){return console.log(t),n}));case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},2654:function(t){t.exports={cards:"CardsApplet_cards__UMf7t",cards_list:"CardsApplet_cards_list__mABvx",card:"CardsApplet_card__HmwTH",show_term_checkbox:"CardsApplet_show_term_checkbox__Qjz7t",card_front:"CardsApplet_card_front__5gnhj",card_back:"CardsApplet_card_back__hMTK_",controls:"CardsApplet_controls__k_5wX"}},3826:function(t){t.exports={term:"Card_term___wT74",term_div:"Card_term_div__LJfDP"}},4400:function(t){t.exports={main:"Set_main__ycWBh",set_content:"Set_set_content__9UkEm",title:"Set_title__os3k3",terms:"Set_terms__SKWmP"}}},function(t){t.O(0,[458,774,888,179],(function(){return e=5436,t(t.s=e);var e}));var e=t.O();_N_E=e}]);