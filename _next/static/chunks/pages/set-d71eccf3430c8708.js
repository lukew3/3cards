(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[799],{7278:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/set",function(){return n(6896)}])},6896:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(7568),s=n(4051),c=n.n(s),a=n(5893),i=n(9008),d=n.n(i),o=n(7386),l=n.n(o),_=n(7294),u=n(3826),h=n.n(u),f=function(e){return(0,a.jsxs)("div",{className:h().term,children:[(0,a.jsx)("p",{children:e.card[0]}),(0,a.jsx)("div",{className:h().term_div}),(0,a.jsx)("p",{className:h().term_definition,children:e.card[1]})]})},m=n(2654),p=n.n(m),v=function(e){var t=e.cards.length,n=(0,_.useState)(0),r=n[0],s=n[1],c=(0,_.useState)(!0),i=c[0],d=c[1],o=function(e){var n=document.getElementById("Cards_cards_list");if(n){var r=n.scrollWidth/t;n.scrollTo(e*r,0)}},l=function(){r-1>=0&&(o(r-1),s(r-1)),d(!0)},u=function(){r+1<t&&(o(r+1),s(r+1)),d(!0)},h=function(){d(!i)},f=function(e){"ArrowLeft"===e.key?l():"ArrowRight"===e.key?u():"ArrowUp"===e.key&&h()},m=function(e){var n=e.target.scrollWidth/t,r=Math.ceil(e.target.scrollLeft/n);s(r)};return(0,_.useEffect)((function(){return window.addEventListener("keydown",f),function(){window.removeEventListener("keydown",f)}}),[r,i]),(0,_.useEffect)((function(){var e=document.getElementById("Cards_cards_list");if(e)return m({target:e}),window.addEventListener("keydown",f),e.addEventListener("scroll",m),function(){e.removeEventListener("keydown",f)}}),[]),(0,a.jsxs)("div",{className:p().cards,children:[(0,a.jsx)("input",{type:"checkbox",className:p().show_term_checkbox,checked:!i,onChange:h}),(0,a.jsx)("div",{id:"Cards_cards_list",className:p().cards_list,children:e.cards.map((function(e,t){return(0,a.jsxs)("div",{className:p().card,onClick:h,children:[(0,a.jsx)("div",{className:p().card_front,children:e[0]}),(0,a.jsx)("div",{className:p().card_back,children:e[1]})]},"cards-card-".concat(t))}))}),(0,a.jsxs)("div",{className:p().controls,children:[(0,a.jsx)("button",{onClick:l,children:"<"}),(0,a.jsxs)("p",{children:[r+1,"/",t]}),(0,a.jsx)("button",{onClick:u,children:">"})]})]})},x=n(4400),w=n.n(x),j=function(e){return(0,a.jsxs)("div",{className:w().set_content,children:[(0,a.jsx)(v,{cards:e.cards}),(0,a.jsx)("h4",{className:w().title,children:e.title}),(0,a.jsx)("div",{className:w().terms,children:e.cards.map((function(e,t){return(0,a.jsx)(f,{id:t,card:e},t)}))})]})},k=function(){var e,t=l().init({host:"arweave.net",port:443,protocol:"https"}),n=(0,_.useState)("Unnamed Set"),s=n[0],i=n[1],o=(0,_.useState)(!1),u=o[0],h=o[1],f=(0,_.useState)(!0),m=f[0],p=f[1],v=(0,_.useState)([]),x=v[0],k=v[1];try{var g=new URLSearchParams(window.location.search);e=g.get("tx_id")||""}catch(N){e=""}return setTimeout((0,r.Z)(c().mark((function n(){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u){n.next=7;break}if(console.log("Loading set"),""!=e){n.next=4;break}return n.abrupt("return");case 4:t.api.get(e).then((function(e){k(e.data),h(!0),p(!1)})).catch((function(){console.log("Could not load set"),p(!1)})),r='{\n        transactions(\n          first: 1\n          ids: ["'.concat(e,'"]\n        ) {\n          edges { node { tags { name value } } }\n        }\n      }'),t.api.post("/graphql",{query:r}).then((function(e){var t=e.data.data.transactions.edges[0].node.tags.find((function(e){return"Title"==e.name})).value;i(t)})).catch((function(e){console.log(e)}));case 7:case"end":return n.stop()}}),n)}))),0),(0,a.jsxs)("div",{className:w().container,children:[(0,a.jsx)(d(),{children:(0,a.jsx)("title",{children:"View Set - 3cards"})}),(0,a.jsxs)("main",{className:w().main,children:[(0,a.jsx)("h3",{children:"View Set"}),m?(0,a.jsx)("div",{className:"lds-dual-ring"}):0===x.length?(0,a.jsx)("p",{children:"Set not found"}):(0,a.jsx)(j,{cards:x,title:s})]})]})}},2654:function(e){e.exports={cards:"CardsApplet_cards__UMf7t",cards_list:"CardsApplet_cards_list__mABvx",card:"CardsApplet_card__HmwTH",show_term_checkbox:"CardsApplet_show_term_checkbox__Qjz7t",card_front:"CardsApplet_card_front__5gnhj",card_back:"CardsApplet_card_back__hMTK_",controls:"CardsApplet_controls__k_5wX"}},3826:function(e){e.exports={term:"Card_term___wT74",term_div:"Card_term_div__LJfDP"}},4400:function(e){e.exports={container:"Set_container__32u4w",main:"Set_main__ycWBh",set_content:"Set_set_content__9UkEm",title:"Set_title__os3k3",terms:"Set_terms__SKWmP"}}},function(e){e.O(0,[797,774,888,179],(function(){return t=7278,e(e.s=t);var t}));var t=e.O();_N_E=t}]);