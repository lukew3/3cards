(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[649],{7648:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sets",function(){return c(6042)}])},3673:function(f,b,a){"use strict";var g=a(7568),c=a(4051),h=a.n(c),i=a(5893),d=a(1664),j=a.n(d),e=a(7911),k=a.n(e),l=a(7294),m=function(a){var b,c=(b=(0,g.Z)(h().mark(function b(){var c;return h().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!a.loggedIn){b.next=4;break}null===(c=window.arweaveWallet)|| void 0===c||c.disconnect(),a.setAddress(""),b.next=11;break;case 4:if(void 0!=window.arweaveWallet){b.next=8;break}alert("Arconnect not installed. Go to https://arconnnect.io to get started."),b.next=11;break;case 8:return b.next=10,window.arweaveWallet.connect(["ACCESS_ADDRESS","SIGN_TRANSACTION"]);case 10:window.arweaveWallet.getActiveAddress().then(function(b){a.setAddress(b)}).catch(function(a){console.log(a)});case 11:case"end":return b.stop()}},b)})),function(){return b.apply(this,arguments)});return(0,l.useEffect)(function(){setTimeout(function(){var b;null===(b=window.arweaveWallet)|| void 0===b||b.getActiveAddress().then(function(b){b&&a.setAddress(b)}).catch(function(){a.setAddress("")})},0)}),(0,i.jsx)("div",{className:k().login_text,onClick:c,children:a.loggedIn?"Logout":"Login"})};b.Z=function(){var a=(0,l.useState)(""),b=a[0],c=a[1];return(0,i.jsxs)("nav",{className:k().nav_cont,children:[(0,i.jsx)(j(),{href:"/",children:(0,i.jsx)("h1",{className:k().title_link,children:"3cards"})}),(0,i.jsxs)("div",{className:k().nav_right,children:[(0,i.jsx)(j(),{href:"/sets",children:(0,i.jsx)("p",{children:"Find Sets"})}),function(){if(""!==b)return(0,i.jsx)(j(),{href:{pathname:"/sets",query:{owner:b}},children:(0,i.jsx)("p",{children:"My Sets"})})}(),(0,i.jsx)(j(),{href:"/create",children:(0,i.jsx)("p",{children:"Create Set"})}),(0,i.jsx)(m,{loggedIn:Boolean(b),setAddress:c})]})]})}},6042:function(i,b,a){"use strict";a.r(b),a.d(b,{default:function(){return v}});var j=a(7568),c=a(4051),k=a.n(c),l=a(5893),d=a(9008),m=a.n(d),e=a(7386),n=a.n(e),o=a(7294),p=a(1163),q=a(3673),f=a(1664),r=a.n(f),g=a(4401),s=a.n(g),t=function(a){var b;return(0,l.jsx)(r(),{href:"/set?tx_id=".concat(a.set.tx_id),children:(0,l.jsxs)("div",{className:s().cont,children:[(0,l.jsx)("p",{className:s().title,children:a.set.title}),(0,l.jsxs)("div",{className:s().cont_right,children:[(0,l.jsx)(r(),{href:"https://viewblock.io/arweave/address/".concat(a.set.owner_address),children:(0,l.jsxs)("p",{className:s().short_address,children:["Created By: ",(b=a.set.owner_address).substring(0,5)+".."+b.substring(b.length-4)]})}),(0,l.jsxs)("p",{children:["Created On: ",new Date(1e3*a.set.timestamp).toLocaleString()]})]})]})})},h=a(5399),u=a.n(h),v=function(){var c,e=n().init({}),f=(0,p.useRouter)(),a=(0,o.useState)(!1),g=a[0],h=a[1],b=(0,o.useState)([]),d=b[0],i=b[1],r=(c=(0,j.Z)(k().mark(function a(){var b,c;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b=f.query.owner?'owners: ["'.concat(f.query.owner,'"]'):"",c="{\n      transactions(\n        first: 10\n        ".concat(b,'\n        tags: [\n          {\n            name: "Content-Type",\n            values: ["application/json"]\n          },\n          {\n            name: "App-Name",\n            values: ["3cards"]\n          }\n        ]\n      ) {\n        edges {\n          node {\n            id\n            owner {\n              address\n            }\n            block {\n              timestamp\n            }\n            tags {\n              name\n              value\n            }\n          }\n        }\n      }\n    }'),e.api.post("https://arweave.net/graphql",{query:c}).then(function(b){var a=[];b.data.data.transactions.edges.forEach(function(b){var c;a.push({tx_id:b.node.id,timestamp:b.node.block.timestamp,owner_address:b.node.owner.address,title:(null===(c=b.node.tags.find(function(a){return"Title"===a.name}))|| void 0===c?void 0:c.value)||"My Set"})}),i(a),console.log(a)}).catch(function(a){i([]),console.log(a)});case 3:case"end":return a.stop()}},a)})),function(){return c.apply(this,arguments)});return(0,o.useEffect)(function(){setTimeout(function(){g||(h(!0),console.log("Loading sets"),r())},1)}),(0,l.jsxs)("div",{className:u().container,children:[(0,l.jsxs)(m(),{children:[(0,l.jsx)("title",{children:"Find Sets - 3cards"}),(0,l.jsx)("meta",{name:"description",content:"Create a flash card set with 3cards"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsx)(q.Z,{}),(0,l.jsxs)("main",{className:u().main,children:[(0,l.jsx)("h3",{children:"Find Sets"}),(0,l.jsx)("div",{className:u().terms,children:d.map(function(b,a){return(0,l.jsx)(t,{id:a,set:b},a)})})]})]})}},5399:function(a){a.exports={container:"Create_container___ggYn",main:"Create_main__RCqeV",title_input:"Create_title_input__YVpVY",terms:"Create_terms__8ve4n",addItem:"Create_addItem__xL3hK",publish_button:"Create_publish_button__iTGRI"}},7911:function(a){a.exports={nav_cont:"Nav_nav_cont__ATXUg",title_link:"Nav_title_link__x_aST",nav_right:"Nav_nav_right__0XlU_",login_text:"Nav_login_text__YBgOy"}},4401:function(a){a.exports={cont:"SetInfo_cont__UNrHQ",title:"SetInfo_title__j0vcl",cont_right:"SetInfo_cont_right__5_IhH"}}},function(a){a.O(0,[289,386,774,888,179],function(){var b;return a(a.s=7648)}),_N_E=a.O()}])